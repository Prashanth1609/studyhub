{% extends 'core/base.html' %}
{% load static %}

{% block title %}StudyHub - Welcome{% endblock %}

{% block content %}
<div class="text-center mb-5">
    <h1 class="display-3 fw-bold text-gradient mb-4">
        Welcome to StudyHub
    </h1>
    <p class="lead text-muted fs-4">
        Connect, Collaborate, and Excel in Your Academic Journey
    </p>
</div>

<!-- Hero Section -->
<div class="row align-items-center mb-5">
    <div class="col-lg-6">
        <div class="hero-content pe-lg-5">
            <h2 class="h1 fw-bold mb-4 text-primary">
                Transform Your Study Experience
            </h2>
            <p class="lead mb-4">
                Join thousands of students who are already using StudyHub to find study partners, 
                create collaborative sessions, and achieve their academic goals together.
            </p>
            <div class="d-flex gap-3 flex-wrap">
                <a href="{% url 'core:signup' %}" class="btn btn-primary btn-lg pulse">
                    <i class="fas fa-rocket me-2"></i>Get Started Free
                </a>
                <a href="{% url 'login' %}" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-sign-in-alt me-2"></i>Sign In
                </a>
            </div>
        </div>
    </div>
    <div class="col-lg-6">
        <div class="hero-image text-center">
            <div class="position-relative">
                <div class="floating-card card p-4 shadow-lg" style="animation-delay: 0.2s;">
                    <i class="fas fa-users fa-3x text-primary mb-3"></i>
                    <h5>Study Groups</h5>
                    <p class="text-muted mb-0">Find your perfect study partners</p>
                </div>
                <div class="floating-card card p-4 shadow-lg" style="animation-delay: 0.4s; position: absolute; top: 20px; right: -20px;">
                    <i class="fas fa-calendar-alt fa-3x text-success mb-3"></i>
                    <h5>Schedule Sessions</h5>
                    <p class="text-muted mb-0">Plan your study time</p>
                </div>
                <div class="floating-card card p-4 shadow-lg" style="animation-delay: 0.6s; position: absolute; bottom: 20px; left: -20px;">
                    <i class="fas fa-comments fa-3x text-warning mb-3"></i>
                    <h5>Real-time Chat</h5>
                    <p class="text-muted mb-0">Stay connected</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="row g-4 mb-5">
    <div class="col-md-4">
        <div class="feature-card card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
                <div class="feature-icon mb-3">
                    <i class="fas fa-search fa-2x text-primary"></i>
                </div>
                <h5 class="card-title">Find Study Partners</h5>
                <p class="card-text text-muted">
                    Discover students studying the same subjects and connect with like-minded learners.
                </p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="feature-card card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
                <div class="feature-icon mb-3">
                    <i class="fas fa-clock fa-2x text-success"></i>
                </div>
                <h5 class="card-title">Flexible Scheduling</h5>
                <p class="card-text text-muted">
                    Create and join study sessions that fit your schedule, whether virtual or in-person.
                </p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="feature-card card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
                <div class="feature-icon mb-3">
                    <i class="fas fa-chart-line fa-2x text-warning"></i>
                </div>
                <h5 class="card-title">Track Progress</h5>
                <p class="card-text text-muted">
                    Monitor your study sessions and academic progress with detailed analytics.
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Statistics Section -->
<div class="row text-center mb-5">
    <div class="col-md-3 col-6 mb-3">
        <div class="stat-card">
            <div class="stat-number display-6 fw-bold text-primary" data-target="1000">0</div>
            <div class="stat-label text-muted">Active Students</div>
        </div>
    </div>
    <div class="col-md-3 col-6 mb-3">
        <div class="stat-card">
            <div class="stat-number display-6 fw-bold text-success" data-target="500">0</div>
            <div class="stat-label text-muted">Study Sessions</div>
        </div>
    </div>
    <div class="col-md-3 col-6 mb-3">
        <div class="stat-card">
            <div class="stat-number display-6 fw-bold text-warning" data-target="50">0</div>
            <div class="stat-label text-muted">Subjects</div>
        </div>
    </div>
    <div class="col-md-3 col-6 mb-3">
        <div class="stat-card">
            <div class="stat-number display-6 fw-bold text-info" data-target="95">0</div>
            <div class="stat-label text-muted">Success Rate</div>
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="text-center mb-4">
    <div class="cta-section p-5 rounded-4" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white;">
        <h3 class="h2 fw-bold mb-3">Ready to Start Your Learning Journey?</h3>
        <p class="lead mb-4 opacity-75">
            Join StudyHub today and experience the power of collaborative learning.
        </p>
        <a href="{% url 'core:signup' %}" class="btn btn-light btn-lg">
            <i class="fas fa-user-plus me-2"></i>Create Your Account
        </a>
    </div>
</div>

<style>
    .text-gradient {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .floating-card {
        animation: float 3s ease-in-out infinite;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }
    
    .feature-card {
        transition: all 0.3s ease;
        border-radius: 16px;
    }
    
    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1) !important;
    }
    
    .feature-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        color: white;
    }
    
    .stat-card {
        padding: 1rem;
    }
    
    .stat-number {
        font-size: 2.5rem;
        line-height: 1;
    }
    
    .cta-section {
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    }
    
    .hero-image {
        position: relative;
        min-height: 400px;
    }
    
    @media (max-width: 768px) {
        .hero-image {
            min-height: 300px;
            margin-top: 2rem;
        }
        
        .floating-card {
            position: static !important;
            margin-bottom: 1rem;
        }
    }
</style>

<script>
    // Animate statistics on scroll
    function animateStats() {
        const stats = document.querySelectorAll('.stat-number');
        stats.forEach(stat => {
            const target = parseInt(stat.getAttribute('data-target'));
            const duration = 2000;
            const increment = target / (duration / 16);
            let current = 0;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                stat.textContent = Math.floor(current);
            }, 16);
        });
    }
    
    // Intersection Observer for stats animation
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateStats();
                observer.unobserve(entry.target);
            }
        });
    });
    
    document.addEventListener('DOMContentLoaded', () => {
        const statsSection = document.querySelector('.row.text-center.mb-5');
        if (statsSection) {
            observer.observe(statsSection);
        }
    });
    
    // Add hover effects to feature cards
    document.addEventListener('DOMContentLoaded', () => {
        const featureCards = document.querySelectorAll('.feature-card');
        featureCards.forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-10px) scale(1.02)';
            });
            
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0) scale(1)';
            });
        });
    });
</script>
{% endblock %}
